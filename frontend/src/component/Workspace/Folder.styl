@import "~tracim_frontend_lib/src/css/Variable.styl"

folderclose()
  height 0
  visibility hidden
  opacity 0

folderopen()
  height fit-content
  height -moz-fit-content
  opacity 1
  visibility visible
  transition opacity 0.3s

.folder
  padding-inline-start 20px
  .folder__header
    folderopen()
    &:hover
      background-color lightGrey1
  > .folder__content
    folderclose()
    & > .file, > .folder
      folderclose()
  &.active
    > .folder__content
      folderopen()
      > .file, > .folder
        folderopen()
  &__header
    position relative
    display flex
    align-items center
    margin-inline-start -20px
    border-bottom 0
    padding standardSpacing 0
    background-color offWhite
    border-radius standardBorderRadius
    margin-top textSpacing
    cursor pointer
    &__dragHandle
      position absolute
      padding 0 standardSpacing
    & .dragHandle
      display none
    &:hover > .dragHandle
      display block
      padding 0 textSpacing
    &__dragPreview
      display flex
      align-items center
      flex 1
      width 0 // INFO - CH - 2019-06-06 - this allows the text-overflow ellipsis
    &__icon
      flex-grow 0
      padding 0 standardSpacing
      font-size bigIconSize
      color offBlack
      text-align center
    &__name
      display flex
      overflow hidden
      align-items center
      flex 1
      white-space nowrap
      span
        flex 1
        text-overflow ellipsis
        overflow hidden
      i
        margin-inline-end 1ex
      color offBlack
      font-weight bold
      ^[0].read > div > ^[1] &, ^[0].read > ^[1] & // renders .folder.read > .folder__header .folder__header__name
        font-weight normal
    &__content
      position relative
    &__button
      flex-grow 0
      &__advancedbtn
        position relative
      &__addbtn
        display flex
        margin auto 0
        cursor pointer
        &:hover > .folder__header__name__addbtn__text
          color offWhite
        &__text
          margin-inline-end standardSpacing
          &::after
            margin-inline-start 20px
          &-desktop
            display inline
          &-responsive
            display none
            &__iconplus.fas.fa-plus
              margin 0
      .addbtn__subdropdown
        padding 0
    &__status
      flex-grow 0
      padding 0 standardSpacing
      width 140px

@media (min-width: min-sm) and (max-width: max-sm)
  .folder
    &__header
      &__button__addbtn__text
        margin-inline-end standardSpacing
      &__status
        display none

@media (max-width: max-xs)
  .folder
    &__header
      &__button__addbtn__text
        margin-inline-end standardSpacing
      &__status
        display none
      &__button__addbtn__text
        &-desktop
          display none
        &-responsive
          display inline
        &::after
          display none // hide the dropdown triangle
